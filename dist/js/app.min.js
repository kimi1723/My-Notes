"use strict";var selectedCategory,__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},addNoteBtn=document.querySelector(".nav-buttons__add-btn"),deleteAllNotesBtn=document.querySelector(".nav-buttons__delete-all-btn"),saveNoteBtn=document.querySelector(".note-panel__buttons-save"),cancelNoteBtn=document.querySelector(".note-panel__buttons-cancel"),noteArea=document.querySelector(".note-area"),notePanel=document.querySelector(".note-panel"),notePanelCategory=document.querySelector(".note-panel__category"),notePanelTextarea=document.querySelector(".note-panel__text"),notePanelError=document.querySelector(".note-panel__error"),noteID=0,openNotePanel=function(){notePanel.classList.remove("note-panel--hidden")},closeNotePanel=function(){notePanel.classList.add("note-panel--hidden"),notePanelError.classList.add("note-panel__error--hidden"),notePanelTextarea.value="",notePanelCategory.selectedIndex=0},addNote=function(){""!==notePanelTextarea.value&&0!==Number(notePanelCategory.options[notePanelCategory.selectedIndex].value)?(selectValue(),createNote(),notePanelError.classList.add("note-panel__error--hidden")):notePanelError.classList.remove("note-panel__error--hidden")},createNote=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("h3"),o=document.createElement("button"),a=document.createElement("div");e.classList.add("note"),e.setAttribute("data-id","".concat(noteID)),n.classList.add("note-header__title"),n.textContent="".concat(selectedCategory),o.classList.add("note-header__delete-note"),o.innerHTML='<i class="fa-solid fa-xmark"></i> Delete',t.classList.add("note-header"),t.append(n),t.append(o),a.classList.add("note-body"),a.textContent=notePanelTextarea.value,e.append(t),e.append(a),e.addEventListener("click",deleteNote),checkColor(e),appendNotes(e),notePanelTextarea.value="",notePanelCategory.selectedIndex=0,notePanel.classList.add("note-panel--hidden")},appendNotes=function(e){localStorage.setItem("".concat(noteID),e.outerHTML),noteArea.append(e),noteID++},deleteNote=function(e){var e=e.currentTarget,t=e.dataset.id;localStorage.removeItem("".concat(t)),e.remove(),noteID--},selectValue=function(){selectedCategory=notePanelCategory.options[notePanelCategory.selectedIndex].text},checkColor=function(e){switch(selectedCategory){case"Shopping":e.classList.add("note--shopping");break;case"Work":e.classList.add("note--work");break;case"Gym":e.classList.add("note--gym");break;case"Personal":e.classList.add("note--personal");break;case"Other":e.classList.add("note--other")}},deleteAllNotes=function(){document.querySelectorAll(".note").forEach(function(e){return e.remove()}),localStorage.clear(),noteID=0},loadStoragedNotes=function(){var e,t=__assign({},localStorage);for(e in t)noteArea.innerHTML+=t[e],noteID=Number(e)+1;document.querySelectorAll(".note").forEach(function(e){return e.addEventListener("click",deleteNote)})};window.addEventListener("keyup",function(e){var t=e.target;"Enter"===e.key&&"textarea"!=t.tagName.toLowerCase()?addNote():"Escape"===e.key&&"textarea"!=t.tagName.toLowerCase()&&closeNotePanel()}),addNoteBtn.addEventListener("click",openNotePanel),cancelNoteBtn.addEventListener("click",closeNotePanel),saveNoteBtn.addEventListener("click",addNote),deleteAllNotesBtn.addEventListener("click",deleteAllNotes),window.addEventListener("DOMContentLoaded",loadStoragedNotes);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNyYy90cy9hcHAudHMiXSwibmFtZXMiOlsic2VsZWN0ZWRDYXRlZ29yeSIsIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsInAiLCJsZW5ndGgiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJhZGROb3RlQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZGVsZXRlQWxsTm90ZXNCdG4iLCJzYXZlTm90ZUJ0biIsImNhbmNlbE5vdGVCdG4iLCJub3RlQXJlYSIsIm5vdGVQYW5lbCIsIm5vdGVQYW5lbENhdGVnb3J5Iiwibm90ZVBhbmVsVGV4dGFyZWEiLCJub3RlUGFuZWxFcnJvciIsIm5vdGVJRCIsIm9wZW5Ob3RlUGFuZWwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjbG9zZU5vdGVQYW5lbCIsImFkZCIsInZhbHVlIiwic2VsZWN0ZWRJbmRleCIsImFkZE5vdGUiLCJOdW1iZXIiLCJvcHRpb25zIiwic2VsZWN0VmFsdWUiLCJjcmVhdGVOb3RlIiwibmV3Tm90ZSIsImNyZWF0ZUVsZW1lbnQiLCJub3RlSGVhZGVyIiwibm90ZUhlYWRlclRpdGxlIiwibm90ZUhlYWRlckRlbGV0ZUJ0biIsIm5vdGVCb2R5Iiwic2V0QXR0cmlidXRlIiwiY29uY2F0IiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJhcHBlbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsZXRlTm90ZSIsImNoZWNrQ29sb3IiLCJhcHBlbmROb3RlcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJvdXRlckhUTUwiLCJlIiwiY3VycmVudE5vdGUiLCJjdXJyZW50VGFyZ2V0IiwiY3VycmVudE5vdGVJZCIsImRhdGFzZXQiLCJpZCIsInJlbW92ZUl0ZW0iLCJ0ZXh0Iiwibm90ZSIsImRlbGV0ZUFsbE5vdGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjbGVhciIsImxvYWRTdG9yYWdlZE5vdGVzIiwic3RvcmFnZWROb3RlcyIsIndpbmRvdyIsImVsZW1lbnQiLCJ0YXJnZXQiLCJrZXkiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJhQUFBLElDV0lBLGlCRFhBQyxTQUFzQyxXQVFyQyxPQVBEQSxTQUFXQyxPQUFPQyxRQUFVLFNBQVNDLEdBRHJDSCxJQUFRLElBQUlJLEVBQUFDLEVBQUEsRUFBUUMsRUFBQUMsVUFBS1AsT0FBYUssRUFBQUMsRUFBQUQsQ0FBQSxHQUU3QixJQUFRLElBQUlHLEtBRGJKLEVBQUdILFVBQWFJLEdBQ0dFLE9BQVVFLFVBQWFDLGVBQU9DLEtBQUFQLEVBQUFJLENBQUEsSUFDN0NELEVBQUFBLEdBQVlILEVBQUFJLElBR3BCLE9BQUFMLENBQ0EsR0FDSFMsTUFBQUMsS0FBQU4sU0FBQSxDQUVMLEVDVk1PLFdBQWdDQyxTQUFTQyxjQUFjLHVCQUF1QixFQUM5RUMsa0JBQXVDRixTQUFTQyxjQUFjLDhCQUE4QixFQUM1RkUsWUFBaUNILFNBQVNDLGNBQWMsMkJBQTJCLEVBQ25GRyxjQUFtQ0osU0FBU0MsY0FBYyw2QkFBNkIsRUFFdkZJLFNBQTJCTCxTQUFTQyxjQUFjLFlBQVksRUFDOURLLFVBQTRCTixTQUFTQyxjQUFjLGFBQWEsRUFDaEVNLGtCQUF1Q1AsU0FBU0MsY0FBYyx1QkFBdUIsRUFDckZPLGtCQUF1Q1IsU0FBU0MsY0FBYyxtQkFBbUIsRUFDakZRLGVBQXVDVCxTQUFTQyxjQUFjLG9CQUFvQixFQUd2RlMsT0FBaUIsRUFFWkMsY0FBZ0IsV0FDckJMLFVBQVVNLFVBQVVDLE9BQU8sb0JBQW9CLENBQ2hELEVBRU1DLGVBQWlCLFdBQ3RCUixVQUFVTSxVQUFVRyxJQUFJLG9CQUFvQixFQUM1Q04sZUFBZUcsVUFBVUcsSUFBSSwyQkFBMkIsRUFDeERQLGtCQUFrQlEsTUFBUSxHQUMxQlQsa0JBQWtCVSxjQUFnQixDQUNuQyxFQUVNQyxRQUFVLFdBRWMsS0FBNUJWLGtCQUFrQlEsT0FDMkQsSUFBN0VHLE9BQU9aLGtC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QUFTLFNBQUNPLEdBQ2pDLElBQU1nQixFQUFVaEIsRUFBRWlCLE9BRUosVUFBVmpCLEVBQUVrQixLQUFvRCxZQUFqQ0YsRUFBUUcsUUFBUUMsWUFBVyxFQUNuRDNDLFFBQU8sRUFDYSxXQUFWdUIsRUFBRWtCLEtBQXFELFlBQWpDRixFQUFRRyxRQUFRQyxZQUFXLEdBQzNEL0MsZUFBYyxDQUVoQixDQUFDLEVBRURmLFdBQVdtQyxpQkFBaUIsUUFBU3ZCLGFBQWEsRUFDbERQLGNBQWM4QixpQkFBaUIsUUFBU3BCLGNBQWMsRUFDdERYLFlBQVkrQixpQkFBaUIsUUFBU2hCLE9BQU8sRUFDN0NoQixrQkFBa0JnQyxpQkFBaUIsUUFBU2dCLGNBQWMsRUFFMURNLE9BQU90QixpQkFBaUIsbUJBQW9Cb0IsaUJBQWlCIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIGFkZE5vdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWJ1dHRvbnNfX2FkZC1idG4nKTtcbnZhciBkZWxldGVBbGxOb3Rlc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtYnV0dG9uc19fZGVsZXRlLWFsbC1idG4nKTtcbnZhciBzYXZlTm90ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLXBhbmVsX19idXR0b25zLXNhdmUnKTtcbnZhciBjYW5jZWxOb3RlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtcGFuZWxfX2J1dHRvbnMtY2FuY2VsJyk7XG52YXIgbm90ZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZS1hcmVhJyk7XG52YXIgbm90ZVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtcGFuZWwnKTtcbnZhciBub3RlUGFuZWxDYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLXBhbmVsX19jYXRlZ29yeScpO1xudmFyIG5vdGVQYW5lbFRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtcGFuZWxfX3RleHQnKTtcbnZhciBub3RlUGFuZWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLXBhbmVsX19lcnJvcicpO1xudmFyIHNlbGVjdGVkQ2F0ZWdvcnksIG5vdGVJRCA9IDA7XG52YXIgb3Blbk5vdGVQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBub3RlUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbm90ZS1wYW5lbC0taGlkZGVuJyk7XG59O1xudmFyIGNsb3NlTm90ZVBhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIG5vdGVQYW5lbC5jbGFzc0xpc3QuYWRkKCdub3RlLXBhbmVsLS1oaWRkZW4nKTtcbiAgICBub3RlUGFuZWxFcnJvci5jbGFzc0xpc3QuYWRkKCdub3RlLXBhbmVsX19lcnJvci0taGlkZGVuJyk7XG4gICAgbm90ZVBhbmVsVGV4dGFyZWEudmFsdWUgPSAnJztcbiAgICBub3RlUGFuZWxDYXRlZ29yeS5zZWxlY3RlZEluZGV4ID0gMDtcbn07XG52YXIgYWRkTm90ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobm90ZVBhbmVsVGV4dGFyZWEudmFsdWUgIT09ICcnICYmXG4gICAgICAgIE51bWJlcihub3RlUGFuZWxDYXRlZ29yeS5vcHRpb25zW25vdGVQYW5lbENhdGVnb3J5LnNlbGVjdGVkSW5kZXhdLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICBzZWxlY3RWYWx1ZSgpO1xuICAgICAgICBjcmVhdGVOb3RlKCk7XG4gICAgICAgIG5vdGVQYW5lbEVycm9yLmNsYXNzTGlzdC5hZGQoJ25vdGUtcGFuZWxfX2Vycm9yLS1oaWRkZW4nKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vdGVQYW5lbEVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ25vdGUtcGFuZWxfX2Vycm9yLS1oaWRkZW4nKTtcbiAgICB9XG59O1xudmFyIGNyZWF0ZU5vdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbm90ZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBub3RlSGVhZGVyVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHZhciBub3RlSGVhZGVyRGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdmFyIG5vdGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmV3Tm90ZS5jbGFzc0xpc3QuYWRkKCdub3RlJyk7XG4gICAgbmV3Tm90ZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBcIlwiLmNvbmNhdChub3RlSUQpKTtcbiAgICBub3RlSGVhZGVyVGl0bGUuY2xhc3NMaXN0LmFkZCgnbm90ZS1oZWFkZXJfX3RpdGxlJyk7XG4gICAgbm90ZUhlYWRlclRpdGxlLnRleHRDb250ZW50ID0gXCJcIi5jb25jYXQoc2VsZWN0ZWRDYXRlZ29yeSk7XG4gICAgbm90ZUhlYWRlckRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdub3RlLWhlYWRlcl9fZGVsZXRlLW5vdGUnKTtcbiAgICBub3RlSGVhZGVyRGVsZXRlQnRuLmlubmVySFRNTCA9IFwiPGkgY2xhc3M9XFxcImZhLXNvbGlkIGZhLXhtYXJrXFxcIj48L2k+IERlbGV0ZVwiO1xuICAgIG5vdGVIZWFkZXIuY2xhc3NMaXN0LmFkZCgnbm90ZS1oZWFkZXInKTtcbiAgICBub3RlSGVhZGVyLmFwcGVuZChub3RlSGVhZGVyVGl0bGUpO1xuICAgIG5vdGVIZWFkZXIuYXBwZW5kKG5vdGVIZWFkZXJEZWxldGVCdG4pO1xuICAgIG5vdGVCb2R5LmNsYXNzTGlzdC5hZGQoJ25vdGUtYm9keScpO1xuICAgIG5vdGVCb2R5LnRleHRDb250ZW50ID0gbm90ZVBhbmVsVGV4dGFyZWEudmFsdWU7XG4gICAgbmV3Tm90ZS5hcHBlbmQobm90ZUhlYWRlcik7XG4gICAgbmV3Tm90ZS5hcHBlbmQobm90ZUJvZHkpO1xuICAgIG5ld05vdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVOb3RlKTtcbiAgICBjaGVja0NvbG9yKG5ld05vdGUpO1xuICAgIGFwcGVuZE5vdGVzKG5ld05vdGUpO1xuICAgIG5vdGVQYW5lbFRleHRhcmVhLnZhbHVlID0gJyc7XG4gICAgbm90ZVBhbmVsQ2F0ZWdvcnkuc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgbm90ZVBhbmVsLmNsYXNzTGlzdC5hZGQoJ25vdGUtcGFuZWwtLWhpZGRlbicpO1xufTtcbnZhciBhcHBlbmROb3RlcyA9IGZ1bmN0aW9uIChuZXdOb3RlKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJcIi5jb25jYXQobm90ZUlEKSwgbmV3Tm90ZS5vdXRlckhUTUwpO1xuICAgIG5vdGVBcmVhLmFwcGVuZChuZXdOb3RlKTtcbiAgICBub3RlSUQrKztcbn07XG52YXIgZGVsZXRlTm90ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGN1cnJlbnROb3RlID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHZhciBjdXJyZW50Tm90ZUlkID0gY3VycmVudE5vdGUuZGF0YXNldC5pZDtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlwiLmNvbmNhdChjdXJyZW50Tm90ZUlkKSk7XG4gICAgY3VycmVudE5vdGUucmVtb3ZlKCk7XG4gICAgbm90ZUlELS07XG59O1xudmFyIHNlbGVjdFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGVjdGVkQ2F0ZWdvcnkgPSBub3RlUGFuZWxDYXRlZ29yeS5vcHRpb25zW25vdGVQYW5lbENhdGVnb3J5LnNlbGVjdGVkSW5kZXhdLnRleHQ7XG59O1xudmFyIGNoZWNrQ29sb3IgPSBmdW5jdGlvbiAobm90ZSkge1xuICAgIHN3aXRjaCAoc2VsZWN0ZWRDYXRlZ29yeSkge1xuICAgICAgICBjYXNlICdTaG9wcGluZyc6XG4gICAgICAgICAgICBub3RlLmNsYXNzTGlzdC5hZGQoJ25vdGUtLXNob3BwaW5nJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnV29yayc6XG4gICAgICAgICAgICBub3RlLmNsYXNzTGlzdC5hZGQoJ25vdGUtLXdvcmsnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdHeW0nOlxuICAgICAgICAgICAgbm90ZS5jbGFzc0xpc3QuYWRkKCdub3RlLS1neW0nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQZXJzb25hbCc6XG4gICAgICAgICAgICBub3RlLmNsYXNzTGlzdC5hZGQoJ25vdGUtLXBlcnNvbmFsJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnT3RoZXInOlxuICAgICAgICAgICAgbm90ZS5jbGFzc0xpc3QuYWRkKCdub3RlLS1vdGhlcicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcbnZhciBkZWxldGVBbGxOb3RlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWxsTm90ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZScpO1xuICAgIGFsbE5vdGVzLmZvckVhY2goZnVuY3Rpb24gKG5vdGUpIHsgcmV0dXJuIG5vdGUucmVtb3ZlKCk7IH0pO1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgIG5vdGVJRCA9IDA7XG59O1xudmFyIGxvYWRTdG9yYWdlZE5vdGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdG9yYWdlZE5vdGVzID0gX19hc3NpZ24oe30sIGxvY2FsU3RvcmFnZSk7XG4gICAgZm9yICh2YXIgbm90ZSBpbiBzdG9yYWdlZE5vdGVzKSB7XG4gICAgICAgIG5vdGVBcmVhLmlubmVySFRNTCArPSBzdG9yYWdlZE5vdGVzW25vdGVdO1xuICAgICAgICBub3RlSUQgPSBOdW1iZXIobm90ZSkgKyAxO1xuICAgIH1cbiAgICB2YXIgbmV3Tm90ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlJyk7XG4gICAgbmV3Tm90ZS5mb3JFYWNoKGZ1bmN0aW9uIChub3RlKSB7IHJldHVybiBub3RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlTm90ZSk7IH0pO1xufTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBlLnRhcmdldDtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ3RleHRhcmVhJykge1xuICAgICAgICBhZGROb3RlKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAndGV4dGFyZWEnKSB7XG4gICAgICAgIGNsb3NlTm90ZVBhbmVsKCk7XG4gICAgfVxufSk7XG5hZGROb3RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk5vdGVQYW5lbCk7XG5jYW5jZWxOb3RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VOb3RlUGFuZWwpO1xuc2F2ZU5vdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROb3RlKTtcbmRlbGV0ZUFsbE5vdGVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQWxsTm90ZXMpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBsb2FkU3RvcmFnZWROb3Rlcyk7XG4iLCJjb25zdCBhZGROb3RlQnRuOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtYnV0dG9uc19fYWRkLWJ0bicpITtcclxuY29uc3QgZGVsZXRlQWxsTm90ZXNCdG46IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1idXR0b25zX19kZWxldGUtYWxsLWJ0bicpITtcclxuY29uc3Qgc2F2ZU5vdGVCdG46IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtcGFuZWxfX2J1dHRvbnMtc2F2ZScpITtcclxuY29uc3QgY2FuY2VsTm90ZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZS1wYW5lbF9fYnV0dG9ucy1jYW5jZWwnKSE7XHJcblxyXG5jb25zdCBub3RlQXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZS1hcmVhJykhO1xyXG5jb25zdCBub3RlUGFuZWw6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtcGFuZWwnKSE7XHJcbmNvbnN0IG5vdGVQYW5lbENhdGVnb3J5OiBIVE1MU2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLXBhbmVsX19jYXRlZ29yeScpITtcclxuY29uc3Qgbm90ZVBhbmVsVGV4dGFyZWE6IEhUTUxTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtcGFuZWxfX3RleHQnKSE7XHJcbmNvbnN0IG5vdGVQYW5lbEVycm9yOiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLXBhbmVsX19lcnJvcicpITtcclxuXHJcbmxldCBzZWxlY3RlZENhdGVnb3J5OiBzdHJpbmcsXHJcblx0bm90ZUlEOiBudW1iZXIgPSAwO1xyXG5cclxuY29uc3Qgb3Blbk5vdGVQYW5lbCA9ICgpID0+IHtcclxuXHRub3RlUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnbm90ZS1wYW5lbC0taGlkZGVuJyk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU5vdGVQYW5lbCA9ICgpID0+IHtcclxuXHRub3RlUGFuZWwuY2xhc3NMaXN0LmFkZCgnbm90ZS1wYW5lbC0taGlkZGVuJyk7XHJcblx0bm90ZVBhbmVsRXJyb3IuY2xhc3NMaXN0LmFkZCgnbm90ZS1wYW5lbF9fZXJyb3ItLWhpZGRlbicpO1xyXG5cdG5vdGVQYW5lbFRleHRhcmVhLnZhbHVlID0gJyc7XHJcblx0bm90ZVBhbmVsQ2F0ZWdvcnkuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbn07XHJcblxyXG5jb25zdCBhZGROb3RlID0gKCkgPT4ge1xyXG5cdGlmIChcclxuXHRcdG5vdGVQYW5lbFRleHRhcmVhLnZhbHVlICE9PSAnJyAmJlxyXG5cdFx0TnVtYmVyKG5vdGVQYW5lbENhdGVnb3J5Lm9wdGlvbnNbbm90ZVBhbmVsQ2F0ZWdvcnkuc2VsZWN0ZWRJbmRleF0udmFsdWUpICE9PSAwXHJcblx0KSB7XHJcblx0XHRzZWxlY3RWYWx1ZSgpO1xyXG5cdFx0Y3JlYXRlTm90ZSgpO1xyXG5cdFx0bm90ZVBhbmVsRXJyb3IuY2xhc3NMaXN0LmFkZCgnbm90ZS1wYW5lbF9fZXJyb3ItLWhpZGRlbicpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRub3RlUGFuZWxFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdub3RlLXBhbmVsX19lcnJvci0taGlkZGVuJyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlTm90ZSA9ICgpID0+IHtcclxuXHRjb25zdCBuZXdOb3RlOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdGNvbnN0IG5vdGVIZWFkZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0Y29uc3Qgbm90ZUhlYWRlclRpdGxlOiBIVE1MSGVhZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG5cdGNvbnN0IG5vdGVIZWFkZXJEZWxldGVCdG46IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0Y29uc3Qgbm90ZUJvZHk6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdG5ld05vdGUuY2xhc3NMaXN0LmFkZCgnbm90ZScpO1xyXG5cdG5ld05vdGUuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgYCR7bm90ZUlEfWApO1xyXG5cclxuXHRub3RlSGVhZGVyVGl0bGUuY2xhc3NMaXN0LmFkZCgnbm90ZS1oZWFkZXJfX3RpdGxlJyk7XHJcblx0bm90ZUhlYWRlclRpdGxlLnRleHRDb250ZW50ID0gYCR7c2VsZWN0ZWRDYXRlZ29yeX1gO1xyXG5cclxuXHRub3RlSGVhZGVyRGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ25vdGUtaGVhZGVyX19kZWxldGUtbm90ZScpO1xyXG5cdG5vdGVIZWFkZXJEZWxldGVCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEteG1hcmtcIj48L2k+IERlbGV0ZWA7XHJcblxyXG5cdG5vdGVIZWFkZXIuY2xhc3NMaXN0LmFkZCgnbm90ZS1oZWFkZXInKTtcclxuXHRub3RlSGVhZGVyLmFwcGVuZChub3RlSGVhZGVyVGl0bGUpO1xyXG5cdG5vdGVIZWFkZXIuYXBwZW5kKG5vdGVIZWFkZXJEZWxldGVCdG4pO1xyXG5cclxuXHRub3RlQm9keS5jbGFzc0xpc3QuYWRkKCdub3RlLWJvZHknKTtcclxuXHRub3RlQm9keS50ZXh0Q29udGVudCA9IG5vdGVQYW5lbFRleHRhcmVhLnZhbHVlO1xyXG5cclxuXHRuZXdOb3RlLmFwcGVuZChub3RlSGVhZGVyKTtcclxuXHRuZXdOb3RlLmFwcGVuZChub3RlQm9keSk7XHJcblx0bmV3Tm90ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZU5vdGUpO1xyXG5cclxuXHRjaGVja0NvbG9yKG5ld05vdGUpO1xyXG5cdGFwcGVuZE5vdGVzKG5ld05vdGUpO1xyXG5cclxuXHRub3RlUGFuZWxUZXh0YXJlYS52YWx1ZSA9ICcnO1xyXG5cdG5vdGVQYW5lbENhdGVnb3J5LnNlbGVjdGVkSW5kZXggPSAwO1xyXG5cdG5vdGVQYW5lbC5jbGFzc0xpc3QuYWRkKCdub3RlLXBhbmVsLS1oaWRkZW4nKTtcclxufTtcclxuXHJcbmNvbnN0IGFwcGVuZE5vdGVzID0gKG5ld05vdGU6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7bm90ZUlEfWAsIG5ld05vdGUub3V0ZXJIVE1MKTtcclxuXHRub3RlQXJlYS5hcHBlbmQobmV3Tm90ZSk7XHJcblxyXG5cdG5vdGVJRCsrO1xyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlTm90ZSA9IChlOiBFdmVudCkgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbnROb3RlID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cdGNvbnN0IGN1cnJlbnROb3RlSWQ6IHN0cmluZyA9IGN1cnJlbnROb3RlLmRhdGFzZXQuaWQhO1xyXG5cclxuXHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgJHtjdXJyZW50Tm90ZUlkfWApO1xyXG5cdGN1cnJlbnROb3RlLnJlbW92ZSgpO1xyXG5cclxuXHRub3RlSUQtLTtcclxufTtcclxuXHJcbmNvbnN0IHNlbGVjdFZhbHVlID0gKCkgPT4ge1xyXG5cdHNlbGVjdGVkQ2F0ZWdvcnkgPSBub3RlUGFuZWxDYXRlZ29yeS5vcHRpb25zW25vdGVQYW5lbENhdGVnb3J5LnNlbGVjdGVkSW5kZXhdLnRleHQ7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0NvbG9yID0gKG5vdGU6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcblx0c3dpdGNoIChzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0XHRjYXNlICdTaG9wcGluZyc6XHJcblx0XHRcdG5vdGUuY2xhc3NMaXN0LmFkZCgnbm90ZS0tc2hvcHBpbmcnKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSAnV29yayc6XHJcblx0XHRcdG5vdGUuY2xhc3NMaXN0LmFkZCgnbm90ZS0td29yaycpO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRjYXNlICdHeW0nOlxyXG5cdFx0XHRub3RlLmNsYXNzTGlzdC5hZGQoJ25vdGUtLWd5bScpO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRjYXNlICdQZXJzb25hbCc6XHJcblx0XHRcdG5vdGUuY2xhc3NMaXN0LmFkZCgnbm90ZS0tcGVyc29uYWwnKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSAnT3RoZXInOlxyXG5cdFx0XHRub3RlLmNsYXNzTGlzdC5hZGQoJ25vdGUtLW90aGVyJyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGRlbGV0ZUFsbE5vdGVzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbE5vdGVzOiBOb2RlTGlzdE9mPEhUTUxEaXZFbGVtZW50PiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlJyk7XHJcblxyXG5cdGFsbE5vdGVzLmZvckVhY2gobm90ZSA9PiBub3RlLnJlbW92ZSgpKTtcclxuXHRsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuXHJcblx0bm90ZUlEID0gMDtcclxufTtcclxuXHJcbmNvbnN0IGxvYWRTdG9yYWdlZE5vdGVzID0gKCkgPT4ge1xyXG5cdGNvbnN0IHN0b3JhZ2VkTm90ZXMgPSB7IC4uLmxvY2FsU3RvcmFnZSB9O1xyXG5cclxuXHRmb3IgKGNvbnN0IG5vdGUgaW4gc3RvcmFnZWROb3Rlcykge1xyXG5cdFx0bm90ZUFyZWEuaW5uZXJIVE1MICs9IHN0b3JhZ2VkTm90ZXNbbm90ZV07XHJcblx0XHRub3RlSUQgPSBOdW1iZXIobm90ZSkgKyAxO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbmV3Tm90ZTogTm9kZUxpc3RPZjxIVE1MRGl2RWxlbWVudD4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZScpO1xyXG5cdG5ld05vdGUuZm9yRWFjaChub3RlID0+IG5vdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVOb3RlKSk7XHJcbn07XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG5cdGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHJcblx0aWYgKGUua2V5ID09PSAnRW50ZXInICYmIGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICd0ZXh0YXJlYScpIHtcclxuXHRcdGFkZE5vdGUoKTtcclxuXHR9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAndGV4dGFyZWEnKSB7XHJcblx0XHRjbG9zZU5vdGVQYW5lbCgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5hZGROb3RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk5vdGVQYW5lbCk7XHJcbmNhbmNlbE5vdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU5vdGVQYW5lbCk7XHJcbnNhdmVOb3RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTm90ZSk7XHJcbmRlbGV0ZUFsbE5vdGVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQWxsTm90ZXMpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBsb2FkU3RvcmFnZWROb3Rlcyk7XHJcbiJdfQ==
